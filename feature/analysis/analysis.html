<!DOCTYPE html>
<html>
<head>
    <script src="utils.js" type="module"></script>
    <script src="analysis.js" type="module"></script>

    <link rel="stylesheet" href="analysis.css">

    <title>Local Analysis</title>
</head>

<body>


<div class="sidebar">

    <button class="menu-item active" data-page="overview">Overview</button>

    <!-- <button class="menu-item" data-page="errors">Mistyped Words</button> -->

    <button class="menu-item" data-page="slow">Slow Words</button>

    <button class="menu-item" data-page="raw_data_overview">Raw Data Overview</button>

    <button class="menu-item" data-page="raw_data">Raw Data</button>

</div>

<div class="content">

    <div id="overview" class="page active">
        <h1>Overview</h1>
        <div class="stat-container">
            <div class="stat-box">
                <div class="stat-label">Unique words typed</div>
                <div class="stat-value" id="uniqueWords">—</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">All words typed</div>
                <div class="stat-value" id="totalWords">—</div>
            </div>
        </div>
    </div>

    <div id="errors" class="page">
        <h1>Problem Words Analysis</h1>
        <div id="practiceMistakes" class="highlight"></div>
        <h3>Most Problematic Words (High Mistake Rate)</h3>
        <table id="mistakeTable">
            <thead><tr><th>Rank</th><th>Word</th><th>Times</th><th>Mistakes</th><th>% Mistakes</th></tr></thead>
            <tbody></tbody>
        </table>


    </div>

    <div id="slow" class="page">
        <h1>Slow Words Analysis</h1>
        <div class="info-box">
            <ul>
                <li>Only correctly typed words are used (mistyped words are much slower and would skew results)</li>
                <li>Words must have at least 3 correct samples for reliable median speed</li>
            </ul>
        </div>

        <div>10 slowest words to practice:</div>
        <div id="practiceSlow" class="highlight" style="margin-top:40px;"></div>
        <small>Go to custom and paste them in there.</small>
        <h3>Slowest Words (Correct Only)</h3>
        <table id="slowTable">
            <thead><tr><th>Rank</th><th>Word</th><th>Samples</th><th>Median WPM</th></tr></thead>
            <tbody></tbody>
        </table>
    </div>

    <div id="raw_data_overview" class="page">
        <h1>Raw Data Summary</h1>
        <table id="dataTable">
            <thead>
            <tr>
                <th>Date</th>
                <th>WPM</th>
                <th>Words</th>
            </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <div id="raw_data" class="page">
        <h1>Raw Data</h1>
        <pre id="dataOutput"></pre>
    </div>

</div>


</body>
</html>